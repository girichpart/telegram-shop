(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,303756,e=>{"use strict";let t=new Set,n="checking";function s(e){if(n.toString()!==e.toString())for(let s of(n=e,t))s()}let r=new Set;function a(e){for(let e of r)e()}let o=new Set,i=null;function l(e){for(let t of(i=e,o))t()}function c(e,t){for(let e of o)e()}e.s(["d",()=>a,"f",()=>s,"l",()=>l,"r",()=>o,"t",()=>i,"u",()=>c])},70309,355697,e=>{"use strict";let t,n="u">typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),s=new Uint8Array(16),r=[];for(let e=0;e<256;++e)r.push((e+256).toString(16).slice(1));let a=function(e,a,o){if(n&&!a&&!e)return n();var i=e,l=o;let c=(i=i||{}).random??i.rng?.()??function(){if(!t){if("u"<typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");t=crypto.getRandomValues.bind(crypto)}return t(s)}();if(c.length<16)throw Error("Random bytes length must be >= 16");if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,a){if((l=l||0)<0||l+16>a.length)throw RangeError(`UUID byte range ${l}:${l+15} is out of buffer bounds`);for(let e=0;e<16;++e)a[l+e]=c[e];return a}return function(e,t=0){return(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase()}(c)};var o=e.i(807574),i=e.i(509820),l=e.i(557586),c=e.i(383397),d=e.i(140840),u=e.i(568137),p=e.i(879548),f=e.i(117086),m=e.i(48167),g=e.i(172441),h=e.i(807136),y=e.i(94059),v=e.i(282541),b=e.i(722249),x=e.i(445556),w=e.i(589293),k=e.i(10839),E=e.i(96623),T=e.i(800879);let j=e=>({context:t})=>{let{count:n,include:s,exclude:r,responseType:a="message.received"}=e;return{count:n,domain:t.domain,from:t.connectTo,include:s?Array.isArray(s)?s:[s]:[],exclude:r?Array.isArray(r)?r:[r]:[],responseType:a,target:t.target,to:t.name}},R=(0,g.defer)(()=>(0,h.fromEvent)(window,"message")),C=e=>(0,o.fromEventObservable)(({input:t})=>{let n;return R.pipe(e?(0,y.map)(e):(0,v.pipe)(),(0,b.filter)(e=>{let{data:n}=e;return(!t.include.length||t.include.includes(n.type))&&(!t.exclude.length||!t.exclude.includes(n.type))&&n.domain===t.domain&&n.from===t.from&&n.to===t.to&&(!t.target||e.source===t.target)}),(0,y.map)((n=t.responseType,e=>({type:n,message:e}))),t.count?(0,v.pipe)((0,x.bufferCount)(t.count),(0,w.concatMap)(e=>e),(0,k.take)(t.count)):(0,v.pipe)())}),S="sanity/comlink",_="comlink/response",P="comlink/heartbeat",q="comlink/disconnect",I="comlink/handshake/syn",O="comlink/handshake/syn-ack",M="comlink/handshake/ack",A=()=>(0,i.setup)({types:{},actors:{listen:(0,o.fromEventObservable)(({input:e})=>{let t,n=e.signal?(0,h.fromEvent)(e.signal,"abort").pipe((t=`Request ${e.requestId} aborted`,e=>e.pipe((0,k.take)(1),(0,y.map)(()=>{throw Error(t)})))):E.EMPTY;return(0,h.fromEvent)(window,"message").pipe((0,b.filter)(t=>t.data?.type===_&&t.data?.responseTo===e.requestId&&!!t.source&&e.sources.has(t.source)),(0,k.take)(e.sources.size),(0,T.takeUntil)(n))})},actions:{"send message":({context:e},t)=>{let{sources:n,targetOrigin:s}=e,{message:r}=t;n.forEach(e=>{e.postMessage(r,{targetOrigin:s})})},"on success":(0,l.sendTo)(({context:e})=>e.parentRef,({context:e,self:t})=>(e.response&&e.resolvable?.resolve(e.response),{type:"request.success",requestId:t.id,response:e.response,responseTo:e.responseTo})),"on fail":(0,l.sendTo)(({context:e})=>e.parentRef,({context:e,self:t})=>(e.suppressWarnings||console.warn(`[@sanity/comlink] Received no response to message '${e.type}' on client '${e.from}' (ID: '${e.id}').`),e.resolvable?.reject(Error("No response received")),{type:"request.failed",requestId:t.id})),"on abort":(0,l.sendTo)(({context:e})=>e.parentRef,({context:e,self:t})=>(e.resolvable?.reject(Error("Request aborted")),{type:"request.aborted",requestId:t.id}))},guards:{expectsResponse:({context:e})=>e.expectResponse},delays:{initialTimeout:0,responseTimeout:({context:e})=>e.responseTimeout??3e3}}).createMachine({context:({input:e})=>({channelId:e.channelId,data:e.data,domain:e.domain,expectResponse:e.expectResponse??!1,from:e.from,id:`msg-${a()}`,parentRef:e.parentRef,resolvable:e.resolvable,response:null,responseTimeout:e.responseTimeout,responseTo:e.responseTo,signal:e.signal,sources:e.sources instanceof Set?e.sources:new Set([e.sources]),suppressWarnings:e.suppressWarnings,targetOrigin:e.targetOrigin,to:e.to,type:e.type}),initial:"idle",on:{abort:".aborted"},states:{idle:{after:{initialTimeout:[{target:"sending"}]}},sending:{entry:{type:"send message",params:({context:e})=>{let{channelId:t,data:n,domain:s,from:r,id:a,responseTo:o,to:i,type:l}=e;return{message:{channelId:t,data:n,domain:s,from:r,id:a,to:i,type:l,responseTo:o}}}},always:[{guard:"expectsResponse",target:"awaiting"},"success"]},awaiting:{invoke:{id:"listen for response",src:"listen",input:({context:e})=>({requestId:e.id,sources:e.sources,signal:e.signal}),onError:"aborted"},after:{responseTimeout:"failed"},on:{message:{actions:(0,c.assign)({response:({event:e})=>e.data.data,responseTo:({event:e})=>e.data.responseTo}),target:"success"}}},failed:{type:"final",entry:"on fail"},success:{type:"final",entry:"on success"},aborted:{type:"final",entry:"on abort"}},output:({context:e,self:t})=>({requestId:t.id,response:e.response,responseTo:e.responseTo})});(0,o.fromCallback)(({sendBack:e,input:t})=>{let n=()=>{e(t.event)};t.immediate&&n();let s=setInterval(n,t.interval);return()=>{clearInterval(s)}});let N=()=>(0,i.setup)({types:{},actors:{requestMachine:A(),listen:C()},actions:{"buffer handshake":(0,c.assign)({handshakeBuffer:({event:e,context:t})=>((0,i.assertEvent)(e,"message.received"),[...t.handshakeBuffer,e])}),"buffer message":(0,u.enqueueActions)(({enqueue:e})=>{e.assign({buffer:({event:e,context:t})=>((0,i.assertEvent)(e,"post"),[...t.buffer,{data:e.data,resolvable:e.resolvable,options:e.options}])}),e.emit(({event:e})=>((0,i.assertEvent)(e,"post"),{type:"buffer.added",message:e.data}))}),"create request":(0,c.assign)({requests:({context:e,event:t,self:n,spawn:s})=>{(0,i.assertEvent)(t,"request");let r=(Array.isArray(t.data)?t.data:[t.data]).map(t=>s("requestMachine",{id:`req-${a()}`,input:{channelId:e.channelId,data:t.data,domain:e.domain,expectResponse:t.expectResponse,from:e.name,parentRef:n,resolvable:t.resolvable,responseTimeout:t.options?.responseTimeout,responseTo:t.responseTo,signal:t.options?.signal,sources:e.target,suppressWarnings:t.options?.suppressWarnings,targetOrigin:e.targetOrigin,to:e.connectTo,type:t.type}}));return[...e.requests,...r]}}),"emit heartbeat":(0,f.emit)(()=>({type:"heartbeat"})),"emit received message":(0,u.enqueueActions)(({enqueue:e})=>{e.emit(({event:e})=>((0,i.assertEvent)(e,"message.received"),{type:"message",message:e.message.data}))}),"emit status":(0,f.emit)((e,t)=>({type:"status",status:t.status})),"post message":(0,p.raise)(({event:e})=>((0,i.assertEvent)(e,"post"),{type:"request",data:{data:e.data.data,expectResponse:!!e.resolvable,type:e.data.type,resolvable:e.resolvable,options:e.options}})),"process pending handshakes":(0,u.enqueueActions)(({context:e,enqueue:t})=>{e.handshakeBuffer.forEach(e=>t.raise(e)),t.assign({handshakeBuffer:[]})}),"remove request":(0,u.enqueueActions)(({context:e,enqueue:t,event:n})=>{(0,i.assertEvent)(n,["request.success","request.failed","request.aborted"]),(0,m.stopChild)(n.requestId),t.assign({requests:e.requests.filter(({id:e})=>e!==n.requestId)})}),"send response":(0,p.raise)(({event:e})=>((0,i.assertEvent)(e,["message.received","heartbeat.received"]),{type:"request",data:{type:_,responseTo:e.message.data.id,data:void 0}})),"send handshake syn ack":(0,p.raise)({type:"request",data:{type:O}}),"send pending messages":(0,u.enqueueActions)(({enqueue:e})=>{e.raise(({context:e})=>({type:"request",data:e.buffer.map(({data:e,resolvable:t,options:n})=>({data:e.data,type:e.type,expectResponse:!!t,resolvable:t,options:n}))})),e.emit(({context:e})=>({type:"buffer.flushed",messages:e.buffer.map(({data:e})=>e)})),e.assign({buffer:[]})}),"set connection config":(0,c.assign)({channelId:({event:e})=>((0,i.assertEvent)(e,"handshake.syn"),e.message.data.channelId),target:({event:e})=>((0,i.assertEvent)(e,"handshake.syn"),e.message.source||void 0),targetOrigin:({event:e})=>((0,i.assertEvent)(e,"handshake.syn"),e.message.origin)})},guards:{hasSource:({context:e})=>null!==e.target}}).createMachine({id:"node",context:({input:e})=>({buffer:[],channelId:null,connectTo:e.connectTo,domain:e.domain??S,handshakeBuffer:[],name:e.name,requests:[],target:void 0,targetOrigin:null}),invoke:{id:"listen for handshake syn",src:"listen",input:j({include:I,responseType:"handshake.syn"})},on:{"request.success":{actions:"remove request"},"request.failed":{actions:"remove request"},"request.aborted":{actions:"remove request"},"handshake.syn":{actions:"set connection config",target:".handshaking"}},initial:"idle",states:{idle:{entry:[{type:"emit status",params:{status:"idle"}}],on:{post:{actions:"buffer message"}}},handshaking:{guard:"hasSource",entry:["send handshake syn ack",{type:"emit status",params:{status:"handshaking"}}],invoke:[{id:"listen for handshake ack",src:"listen",input:j({include:M,count:1,responseType:"handshake.complete"}),onDone:"connected"},{id:"listen for disconnect",src:"listen",input:j({include:q,count:1,responseType:"disconnect"})},{id:"listen for messages",src:"listen",input:j({exclude:[q,I,M,P,_]})}],on:{request:{actions:"create request"},post:{actions:"buffer message"},"message.received":{actions:"buffer handshake"},disconnect:{target:"idle"}}},connected:{entry:["process pending handshakes","send pending messages",{type:"emit status",params:{status:"connected"}}],invoke:[{id:"listen for messages",src:"listen",input:j({exclude:[q,I,M,P,_]})},{id:"listen for heartbeat",src:"listen",input:j({include:P,responseType:"heartbeat.received"})},{id:"listen for disconnect",src:"listen",input:j({include:q,count:1,responseType:"disconnect"})}],on:{request:{actions:"create request"},post:{actions:"post message"},disconnect:{target:"idle"},"message.received":{actions:["send response","emit received message"]},"heartbeat.received":{actions:["send response","emit heartbeat"]}}}}}),L=(e,t=N())=>{let n,s=(0,d.createActor)(t,{input:e}),r=new Map,a=new Map;s.on("message",({message:e})=>{let t=r.get(e.type);if(t)return void t.forEach(t=>t(e.data));let n=a.get(e.type);n?n.add(e):a.set(e.type,new Set([e]))});let o=()=>{s.stop()};return{actor:s,fetch:(e,t,n)=>{let r,a,{responseTimeout:o=1e4,signal:i,suppressWarnings:l}=n||{},c="function"==typeof Promise.withResolvers?Promise.withResolvers():{promise:new Promise((e,t)=>{r=e,a=t}),resolve:r,reject:a};return s.send({type:"post",data:{type:e,data:t},resolvable:c,options:{responseTimeout:o,signal:i,suppressWarnings:l}}),c.promise},machine:t,on:(e,t,n)=>{let s=r.get(e)||new Set;r.has(e)||r.set(e,s),s.add(t);let o=a.get(e);if(o){let s=n?.replay??1;Array.from(o).slice(-s).forEach(({data:e})=>t(e)),a.delete(e)}return()=>{s.delete(t)}},onStatus:(e,t)=>{let r=s.on("status",s=>{n=s.status,t&&s.status!==t||e(s.status)});return n&&e(n),()=>r.unsubscribe()},post:(e,t)=>{s.send({type:"post",data:{type:e,data:t}})},start:()=>(s.start(),o),stop:o}};e.s(["DOMAIN",()=>S,"MSG_DISCONNECT",()=>q,"MSG_HANDSHAKE_ACK",()=>M,"MSG_HANDSHAKE_SYN",()=>I,"MSG_HANDSHAKE_SYN_ACK",()=>O,"MSG_HEARTBEAT",()=>P,"MSG_RESPONSE",()=>_,"createListenLogic",()=>C,"createNode",()=>L,"createNodeMachine",()=>N,"createRequestMachine",()=>A],355697);let D={"handshake/syn":I,"handshake/syn-ack":O,"handshake/ack":M,"channel/response":_,"channel/heartbeat":P,"channel/disconnect":q,"overlay/focus":"visual-editing/focus","overlay/navigate":"visual-editing/navigate","overlay/toggle":"visual-editing/toggle","presentation/toggleOverlay":"presentation/toggle-overlay"},H={[I]:"handshake/syn",[O]:"handshake/syn-ack",[M]:"handshake/ack",[_]:"channel/response",[P]:"channel/heartbeat",[q]:"channel/disconnect","visual-editing/focus":"overlay/focus","visual-editing/navigate":"overlay/navigate","visual-editing/toggle":"overlay/toggle","presentation/toggle-overlay":"presentation/toggleOverlay"},B=e=>{let{data:t}=e;return t&&"object"==typeof t&&"domain"in t&&"type"in t&&"from"in t&&"to"in t&&("sanity/channels"===t.domain&&(t.domain=S),"overlays"===t.to&&(t.to="visual-editing"),"overlays"===t.from&&(t.from="visual-editing"),t.channelId=t.connectionId,delete t.connectionId,t.type=D[t.type]??t.type),e},U=({context:e},t)=>{let{sources:n,targetOrigin:s}=e,r=(e=>{let{channelId:t,...n}=e,s={...n,connectionId:t};return s.domain===S&&(s.domain="sanity/channels"),"visual-editing"===s.to&&(s.to="overlays"),"visual-editing"===s.from&&(s.from="overlays"),s.type=H[s.type]??s.type,"channel/response"===s.type&&s.responseTo&&!s.data&&(s.data={responseTo:s.responseTo}),("handshake/syn"===s.type||"handshake/syn-ack"===s.type||"handshake/ack"===s.type)&&(s.data={id:s.connectionId}),s})(t.message);n.forEach(e=>{e.postMessage(r,{targetOrigin:s})})},F=()=>({listen:C(B),requestMachine:A().provide({actions:{"send message":U}})});function $(){return!!window.opener}function z(){return window.self!==window.top||$()}e.s(["createCompatibilityActors",()=>F,"isMaybePresentation",()=>z,"isMaybePreviewWindow",()=>$],70309)},667585,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let s=e.r(132061);function r({reason:e,children:t}){if("u"<typeof window)throw Object.defineProperty(new s.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},309885,(e,t,n)=>{"use strict";function s(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"encodeURIPath",{enumerable:!0,get:function(){return s}})},652157,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PreloadChunks",{enumerable:!0,get:function(){return l}});let s=e.r(843476),r=e.r(174080),a=e.r(563599),o=e.r(309885),i=e.r(543369);function l({moduleIds:e}){if("u">typeof window)return null;let t=a.workAsyncStorage.getStore();if(void 0===t)return null;let n=[];if(t.reactLoadableManifest&&e){let s=t.reactLoadableManifest;for(let t of e){if(!s[t])continue;let e=s[t].files;n.push(...e)}}if(0===n.length)return null;let l=(0,i.getDeploymentIdQueryOrEmptyString)();return(0,s.jsx)(s.Fragment,{children:n.map(e=>{let n=`${t.assetPrefix}/_next/${(0,o.encodeURIPath)(e)}${l}`;return e.endsWith(".css")?(0,s.jsx)("link",{precedence:"dynamic",href:n,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,r.preload)(n,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},869093,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});let s=e.r(843476),r=e.r(271645),a=e.r(667585),o=e.r(652157);function i(e){return{default:e&&"default"in e?e.default:e}}let l={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},c=function(e){let t={...l,...e},n=(0,r.lazy)(()=>t.loader().then(i)),c=t.loading;function d(e){let i=c?(0,s.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,l=!t.ssr||!!t.loading,d=l?r.Suspense:r.Fragment,u=t.ssr?(0,s.jsxs)(s.Fragment,{children:["u"<typeof window?(0,s.jsx)(o.PreloadChunks,{moduleIds:t.modules}):null,(0,s.jsx)(n,{...e})]}):(0,s.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(n,{...e})});return(0,s.jsx)(d,{...l?{fallback:i}:{},children:u})}return d.displayName="LoadableComponent",d}},770703,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r}});let s=e.r(555682)._(e.r(869093));function r(e,t){let n={};"function"==typeof e&&(n.loader=e);let r={...n,...t};return(0,s.default)({...r,modules:r.loadableGenerated?.modules})}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},709733,e=>{"use strict";e.i(167225);var t=e.i(303756),n=e.i(618566),s=e.i(271645),r=e.i(70309),a=e.i(843476),o=e.i(945736),i=e.i(770703),l=e.i(95187);let c=(0,l.createServerReference)("40eb3bb4781caa51610ed41ef6038145dc1da5c3fd",l.callServer,void 0,l.findSourceMapURL,"revalidateSyncTags"),d=(0,i.default)(()=>e.A(604448),{ssr:!1}),u=(0,i.default)(()=>e.A(360650),{ssr:!1}),p=(0,i.default)(()=>e.A(864564),{ssr:!1}),f=(0,i.default)(()=>e.A(378671),{ssr:!1});function m(e){e instanceof Error&&"CorsOriginError"===e.name?console.warn(`Sanity Live is unable to connect to the Sanity API as the current origin - ${window.origin} - is not in the list of allowed CORS origins for this Sanity Project.`,e.addOriginUrl&&"Add it here:",e.addOriginUrl?.toString()):console.error(e)}function g(e,t){t?console.warn("Sanity Live connection closed, switching to long polling set to a interval of",t/1e3,"seconds and the server gave this reason:",e.reason):console.error("Sanity Live connection closed, automatic revalidation is disabled, the server gave this reason:",e.reason)}function h(e){let{projectId:i,dataset:l,apiHost:h,apiVersion:y,useProjectHostname:v,token:b,requestTagPrefix:x,draftModeEnabled:w,draftModePerspective:k,refreshOnMount:E=!1,refreshOnFocus:T=!w&&("u"<typeof window||window.self===window.top),refreshOnReconnect:j=!0,intervalOnGoAway:R=3e4,requestTag:C="next-loader.live",onError:S=m,onGoAway:_=g,revalidateSyncTags:P=c}=e,q=(0,s.useMemo)(()=>(0,o.createClient)({projectId:i,dataset:l,apiHost:h,apiVersion:y,useProjectHostname:v,ignoreBrowserTokenWarning:!0,token:b,useCdn:!1,requestTagPrefix:x}),[h,y,l,i,x,b,v]),[I,O]=(0,s.useState)(!1),M=(0,n.useRouter)(),A=(0,s.useEffectEvent)(e=>{"message"===e.type?P(e.tags).then(e=>{"refresh"===e&&M.refresh()}):"restart"===e.type||"reconnect"===e.type?M.refresh():"goaway"===e.type&&(_(e,R),O(R))});(0,s.useEffect)(()=>{let e=q.live.events({includeDrafts:!!b,tag:C}).subscribe({next:A,error:e=>{S(e)}});return()=>e.unsubscribe()},[q.live,S,C,b]),(0,s.useEffect)(()=>{w&&k?(0,t.f)(k):(0,t.f)("unknown")},[w,k]);let[N,L]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(!(0,r.isMaybePresentation)()){if(w&&b)return void(0,t.d)("live");if(w)return void(0,t.d)("static");(0,t.d)("unknown")}},[w,b]),(0,s.useEffect)(()=>{if(!(0,r.isMaybePresentation)())return;let e=new AbortController,n=setTimeout(()=>(0,t.d)("live"),3e3);return window.addEventListener("message",({data:s})=>{s&&"object"==typeof s&&"domain"in s&&"sanity/channels"===s.domain&&"from"in s&&"presentation"===s.from&&(clearTimeout(n),(0,t.d)((0,r.isMaybePreviewWindow)()?"presentation-window":"presentation-iframe"),L(!0),e.abort())},{signal:e.signal}),()=>{clearTimeout(n),e.abort()}},[]);let D=(0,s.useRef)(void 0);return(0,s.useEffect)(()=>{if(w)return clearTimeout(D.current),()=>{D.current=setTimeout(()=>{console.warn("Sanity Live: Draft mode was enabled, but is now being disabled")})}},[w]),(0,s.useEffect)(()=>{if(!I)return;let e=setInterval(()=>M.refresh(),I);return()=>clearInterval(e)},[I,M]),(0,a.jsxs)(a.Fragment,{children:[w&&N&&(0,a.jsx)(d,{projectId:i,dataset:l,draftModeEnabled:w,draftModePerspective:k}),!w&&E&&(0,a.jsx)(u,{}),!w&&T&&(0,a.jsx)(p,{}),!w&&j&&(0,a.jsx)(f,{})]})}e.s(["default",()=>h],709733)},7707,e=>{"use strict";var t=e.i(843476);let n=(0,e.i(770703).default)(()=>e.A(364081),{ssr:!1});function s(e){return(0,t.jsx)(n,{...e})}e.s(["default",()=>s])},583296,e=>{"use strict";let t;var n=e.i(843476),s=e.i(271645),r=e.i(15837),a=e.i(981140),o=e.i(820783),i=e.i(30030),l=e.i(726330),c=e.i(610772),d=e.i(853660),u=(e.i(774606),e.i(296626)),p=e.i(248425),f=Symbol("radix.slottable"),m=e.i(369340),g=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),h=s.forwardRef((e,t)=>(0,n.jsx)(p.Primitive.span,{...e,ref:t,style:{...g,...e.style}}));h.displayName="VisuallyHidden";var[y,v]=(0,i.createContextScope)("Tooltip",[d.createPopperScope]),b=(0,d.createPopperScope)(),x="TooltipProvider",w="tooltip.open",[k,E]=y(x),T=e=>{let{__scopeTooltip:t,delayDuration:r=700,skipDelayDuration:a=300,disableHoverableContent:o=!1,children:i}=e,l=s.useRef(!0),c=s.useRef(!1),d=s.useRef(0);return s.useEffect(()=>{let e=d.current;return()=>window.clearTimeout(e)},[]),(0,n.jsx)(k,{scope:t,isOpenDelayedRef:l,delayDuration:r,onOpen:s.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:s.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,a)},[a]),isPointerInTransitRef:c,onPointerInTransitChange:s.useCallback(e=>{c.current=e},[]),disableHoverableContent:o,children:i})};T.displayName=x;var j="Tooltip",[R,C]=y(j),S=e=>{let{__scopeTooltip:t,children:r,open:a,defaultOpen:o,onOpenChange:i,disableHoverableContent:l,delayDuration:u}=e,p=E(j,e.__scopeTooltip),f=b(t),[g,h]=s.useState(null),y=(0,c.useId)(),v=s.useRef(0),x=l??p.disableHoverableContent,k=u??p.delayDuration,T=s.useRef(!1),[C,S]=(0,m.useControllableState)({prop:a,defaultProp:o??!1,onChange:e=>{e?(p.onOpen(),document.dispatchEvent(new CustomEvent(w))):p.onClose(),i?.(e)},caller:j}),_=s.useMemo(()=>C?T.current?"delayed-open":"instant-open":"closed",[C]),P=s.useCallback(()=>{window.clearTimeout(v.current),v.current=0,T.current=!1,S(!0)},[S]),q=s.useCallback(()=>{window.clearTimeout(v.current),v.current=0,S(!1)},[S]),I=s.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{T.current=!0,S(!0),v.current=0},k)},[k,S]);return s.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),(0,n.jsx)(d.Root,{...f,children:(0,n.jsx)(R,{scope:t,contentId:y,open:C,stateAttribute:_,trigger:g,onTriggerChange:h,onTriggerEnter:s.useCallback(()=>{p.isOpenDelayedRef.current?I():P()},[p.isOpenDelayedRef,I,P]),onTriggerLeave:s.useCallback(()=>{x?q():(window.clearTimeout(v.current),v.current=0)},[q,x]),onOpen:P,onClose:q,disableHoverableContent:x,children:r})})};S.displayName=j;var _="TooltipTrigger",P=s.forwardRef((e,t)=>{let{__scopeTooltip:r,...i}=e,l=C(_,r),c=E(_,r),u=b(r),f=s.useRef(null),m=(0,o.useComposedRefs)(t,f,l.onTriggerChange),g=s.useRef(!1),h=s.useRef(!1),y=s.useCallback(()=>g.current=!1,[]);return s.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),(0,n.jsx)(d.Anchor,{asChild:!0,...u,children:(0,n.jsx)(p.Primitive.button,{"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute,...i,ref:m,onPointerMove:(0,a.composeEventHandlers)(e.onPointerMove,e=>{"touch"!==e.pointerType&&(h.current||c.isPointerInTransitRef.current||(l.onTriggerEnter(),h.current=!0))}),onPointerLeave:(0,a.composeEventHandlers)(e.onPointerLeave,()=>{l.onTriggerLeave(),h.current=!1}),onPointerDown:(0,a.composeEventHandlers)(e.onPointerDown,()=>{l.open&&l.onClose(),g.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>{g.current||l.onOpen()}),onBlur:(0,a.composeEventHandlers)(e.onBlur,l.onClose),onClick:(0,a.composeEventHandlers)(e.onClick,l.onClose)})})});P.displayName=_;var[q,I]=y("TooltipPortal",{forceMount:void 0}),O="TooltipContent",M=s.forwardRef((e,t)=>{let s=I(O,e.__scopeTooltip),{forceMount:r=s.forceMount,side:a="top",...o}=e,i=C(O,e.__scopeTooltip);return(0,n.jsx)(u.Presence,{present:r||i.open,children:i.disableHoverableContent?(0,n.jsx)(H,{side:a,...o,ref:t}):(0,n.jsx)(A,{side:a,...o,ref:t})})}),A=s.forwardRef((e,t)=>{let r=C(O,e.__scopeTooltip),a=E(O,e.__scopeTooltip),i=s.useRef(null),l=(0,o.useComposedRefs)(t,i),[c,d]=s.useState(null),{trigger:u,onClose:p}=r,f=i.current,{onPointerInTransitChange:m}=a,g=s.useCallback(()=>{d(null),m(!1)},[m]),h=s.useCallback((e,t)=>{let n,s=e.currentTarget,r={x:e.clientX,y:e.clientY},a=function(e,t){let n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,s,r,a)){case a:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw Error("unreachable")}}(r,s.getBoundingClientRect());d(((n=[...function(e,t,n=5){let s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return s}(r,a),...function(e){let{top:t,right:n,bottom:s,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:s},{x:r,y:s}]}(t.getBoundingClientRect())].slice()).sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let n=0;n<e.length;n++){let s=e[n];for(;t.length>=2;){let e=t[t.length-1],n=t[t.length-2];if((e.x-n.x)*(s.y-n.y)>=(e.y-n.y)*(s.x-n.x))t.pop();else break}t.push(s)}t.pop();let n=[];for(let t=e.length-1;t>=0;t--){let s=e[t];for(;n.length>=2;){let e=n[n.length-1],t=n[n.length-2];if((e.x-t.x)*(s.y-t.y)>=(e.y-t.y)*(s.x-t.x))n.pop();else break}n.push(s)}return(n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y)?t:t.concat(n)}(n))),m(!0)},[m]);return s.useEffect(()=>()=>g(),[g]),s.useEffect(()=>{if(u&&f){let e=e=>h(e,f),t=e=>h(e,u);return u.addEventListener("pointerleave",e),f.addEventListener("pointerleave",t),()=>{u.removeEventListener("pointerleave",e),f.removeEventListener("pointerleave",t)}}},[u,f,h,g]),s.useEffect(()=>{if(c){let e=e=>{let t=e.target,n={x:e.clientX,y:e.clientY},s=u?.contains(t)||f?.contains(t),r=!function(e,t){let{x:n,y:s}=e,r=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let o=t[e],i=t[a],l=o.x,c=o.y,d=i.x,u=i.y;c>s!=u>s&&n<(d-l)*(s-c)/(u-c)+l&&(r=!r)}return r}(n,c);s?g():r&&(g(),p())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[u,f,c,p,g]),(0,n.jsx)(H,{...e,ref:l})}),[N,L]=y(j,{isInside:!1}),D=((t=({children:e})=>(0,n.jsx)(n.Fragment,{children:e})).displayName="TooltipContent.Slottable",t.__radixId=f,t),H=s.forwardRef((e,t)=>{let{__scopeTooltip:r,children:a,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:c,...u}=e,p=C(O,r),f=b(r),{onClose:m}=p;return s.useEffect(()=>(document.addEventListener(w,m),()=>document.removeEventListener(w,m)),[m]),s.useEffect(()=>{if(p.trigger){let e=e=>{let t=e.target;t?.contains(p.trigger)&&m()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[p.trigger,m]),(0,n.jsx)(l.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:e=>e.preventDefault(),onDismiss:m,children:(0,n.jsxs)(d.Content,{"data-state":p.stateAttribute,...f,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,n.jsx)(D,{children:a}),(0,n.jsx)(N,{scope:r,isInside:!0,children:(0,n.jsx)(h,{id:p.contentId,role:"tooltip",children:o||a})})]})})});M.displayName=O;var B="TooltipArrow";s.forwardRef((e,t)=>{let{__scopeTooltip:s,...r}=e,a=b(s);return L(B,s).isInside?null:(0,n.jsx)(d.Arrow,{...a,...r,ref:t})}).displayName=B;var U=e.i(623200);let F=s.forwardRef(({className:e,sideOffset:t=4,...s},r)=>(0,n.jsx)(M,{ref:r,sideOffset:t,className:(0,U.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));F.displayName=M.displayName;var $=e.i(647410),z=e.i(668229),W=e.i(40343),K=e.i(449120),G=e.i(481293),Y=e.i(948148),V=e.i(558249);function X({product:e,x:t,y:a,setOpenHotspot:o,isOpen:i,hotspotKey:l,style:c="dark"}){let d=(0,$.resolveHref)("product",e.slug.current),u=(0,Y.useTranslations)(),p=(0,s.useCallback)(e=>{let t=e.target.closest("[data-hotspots]");e.target.closest(".tooltip-trigger")||i&&!t&&o("")},[i,o]);(0,s.useEffect)(()=>(document.addEventListener("touchend",p),()=>{document.removeEventListener("touchend",p)}),[p]);let f={dark:{outer:"bg-black/50",inner:"bg-white"},light:{outer:"bg-white/30",inner:"bg-white"}};return(0,n.jsxs)("div",{"data-hotspots":!0,style:{left:`${t}%`,top:`${a}%`},className:"jsx-775230eccb6acb25 absolute",children:[(0,n.jsx)(r.default,{id:"775230eccb6acb25",children:".swiper-slide:has(div[data-hotspots=true]){transform:unset!important}@keyframes outer-scale-pulse{0%,to{transform:scale(.92)}50%{transform:scale(1)}}"}),(0,n.jsx)(T,{delayDuration:200,children:(0,n.jsx)(S,{onOpenChange:e=>e?o(l):o(""),open:i,children:(0,n.jsxs)("div",{className:"jsx-775230eccb6acb25",children:[(0,n.jsx)(P,{className:"tooltip-trigger translate-x-[-13px] translate-y-[-13px] cursor-pointer",onClick:()=>i?o(""):o(l),"data-hotspot-key":l,children:(0,n.jsx)(()=>{let e=f[c]||f.dark;return(0,n.jsx)("div",{className:"flex h-[24px] w-[24px] items-center justify-center sm:h-[26px] sm:w-[26px]",children:(0,n.jsx)("div",{className:(0,U.cn)("z-[1] flex h-[24px] w-[24px] animate-pulse items-center justify-center rounded-full transition-transform ease-out sm:h-[26px] sm:w-[26px]",e.outer,i&&"scale-110"),style:{animation:i?void 0:"outer-scale-pulse 1.5s ease-in-out infinite, pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite"},children:(0,n.jsx)("div",{className:(0,U.cn)("z-[1] h-[6px] w-[6px] rounded-full",e.inner)})})})},{className:"jsx-775230eccb6acb25"})}),(0,n.jsx)(F,{className:"w-max min-w-max max-w-[75vw] rounded-md p-0",children:(0,n.jsx)(()=>(0,n.jsxs)(z.default,{href:d,className:"flex gap-2 sm:items-center",tabIndex:-1,onClick:()=>{let t=(0,V.buildAnalyticsEvent)("analytics:view_product_hotspot",{item_id:e?.gid,item_name:e?.title,item_slug:e.slug?.current});window.dispatchEvent(t)},children:[e?.image&&e?.image?.asset?._ref&&(0,n.jsx)("div",{className:"flex h-auto min-w-fit items-center justify-center bg-[#F0F0F0]",children:(0,n.jsx)("img",{src:(0,G.urlForImage)(e?.image).bg("F0F0F0")?.width(200)?.url(),alt:"",width:"50",height:"50",loading:"lazy",className:"min-h-[50px]"})}),(0,n.jsxs)("div",{className:"flex flex-col gap-y-1 py-2 max-sm:px-2",children:[(0,n.jsx)("p",{className:"t-label whitespace-nowrap !font-[400]",children:e.title}),(0,n.jsx)(W.ProductPrice,{typographyClass:"t-label !leading-[22px]",id:e.gid}),(0,n.jsx)(K.Button,{asSpan:!0,className:"px-2 sm:hidden",children:(0,n.jsx)("span",{className:"t-label",children:u("general.products.view_product")})})]}),(0,n.jsx)(K.Button,{asSpan:!0,className:"mx-2 min-w-[15ch] px-2 max-sm:hidden max-sm:max-w-[200px]",children:(0,n.jsx)("span",{className:"t-label",children:u("general.products.view_product")})})]}),{className:"jsx-775230eccb6acb25"})})]})})})]})}function Q({hotspots:e,onHotspotOpen:t,className:r=""}){let[a,o]=(0,s.useState)("");return(0,n.jsx)("div",{className:(0,U.cn)("z-[3] h-full w-full overflow-visible",r),children:e?.map(e=>e?.product?.gid?(0,n.jsx)(X,{product:e?.product,x:e.x,y:e.y,hotspotKey:e._key,style:e.style??"dark",isOpen:a===e._key,setOpenHotspot:n=>{var s;let r;o(n),n&&n!==a&&(s=e?.product,r=(0,V.buildAnalyticsEvent)("analytics:product_gallery_hotspot_viewed",{item_slug:s?.slug}),window.dispatchEvent(r)),t&&t(n)}},e._key):null)})}e.s(["ProductHotspots",()=>Q],583296)}]);